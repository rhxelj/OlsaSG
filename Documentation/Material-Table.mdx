---
name: Material-Table
menu: FrontEnd
---

# MaterialTable

- cuando quiero aplicar fucniones especificas de HTML a una columna en particular hago lo siguiente.

`editComponent: (props) => <input styletype="text" maxlength="2" />`

uso ediComponent

De esta forma puedo hacer que me tome el valor del campo si no me sale vacio.

```
editComponent: (props) => (
          <input
            type="number"
            value={props.value}
            onChange={(e) => props.onChange(e.target.value)}
          />
```

## Como hago la migración a material-table

Una tabla de MaterialTable se ve de la siguiente manera

```javascript
<MaterialTable
  icons={tableIcons}
  title="Tabla Rubros"
  columns={columns}
  data={data}
  localization={localization}
  options={{
    grouping: true,
    addRowPosition: "first",
    actionsColumnIndex: -1,
    // tableLayout: "fixed",
  }}
  // components={{
  //   EditRow: (props) => console.log("Props : ", props),
  //   // <StkRubroModificar open={true} />,
  // }}
  editable={{
    onRowAdd: (newData) => onRowadd(newData),

    onRowUpdate: (newData, oldData) => onRowUpdate(newData, oldData),

    onRowDelete: (oldData) => onRowDelete(oldData),
  }}
/>
```

## Entonces para poder usar MaterialTable tengo que seguir los siguientes pasos

- Importo MaterialTable, los iconos y localization (es para traducir todos los nombres de los componentes de MaterialTable)

```javascript
import MaterialTable, { Column } from "material-table";
import { tableIcons } from "../../../../lib/material-table/tableIcons";
import { localization } from "../../../../lib/material-table/localization";
```

- Agrego tableicons y localization

```javascript
<MaterialTable icons={tableIcons} localization={localization} />
```

- tengo que agregar las columnas y los datos

```javascript
<MaterialTable
  icons={tableIcons}
  localization={localization}
  columns={columns}
  data={data}
/>
```

los valores de columns y data son dos arrays y estos varían dependiendo de lo que quiero mostrar.

## Ahora Agrego Funciones Para Hacer el ABM

Para lograr esto debo usar la opción **editable** de MaterialTable como vemos a continuacion

```javascript
<MaterialTable
  icons={tableIcons}
  localization={localization}
  columns={columns}
  data={data}
  editable={{
    onRowAdd: (newData) =>
      new Promise((resolve, reject) => {
        setTimeout(() => {
          {
            const data = this.state.data;
            data.push(newData);
            this.setState({ data }, () => resolve());
          }
          resolve();
        }, 1000);
      }),
    onRowUpdate: (newData, oldData) =>
      new Promise((resolve, reject) => {
        setTimeout(() => {
          {
            const data = this.state.data;
            const index = data.indexOf(oldData);
            data[index] = newData;
            this.setState({ data }, () => resolve());
          }
          resolve();
        }, 1000);
      }),
    onRowDelete: (oldData) =>
      new Promise((resolve, reject) => {
        setTimeout(() => {
          {
            let data = this.state.data;
            const index = data.indexOf(oldData);
            data.splice(index, 1);
            this.setState({ data }, () => resolve());
          }
          resolve();
        }, 1000);
      }),
  }}
/>
```

Si quiero mover la ubicación de los iconos de editar y borrar como asi también la posición de agregar. uso la propeidad options dentro de **MaterialTable**

```javascript
<MaterialTable
  //...
  //...
  //...

  options={{
    grouping: true,
    addRowPosition: "first",
    actionsColumnIndex: -1,
  }}
  //...
  //...
  //...
  //...
/>
```
